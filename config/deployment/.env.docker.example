# =============================================================================
# DOCKER DEPLOYMENT ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env.docker and update the values for your Docker deployment

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Environment (development, staging, production)
API_ENV=development

# Deployment type indicator
DOCKER_CONTAINER=true

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Application configuration
API_APP_NAME="Generic API Framework"
API_VERSION="0.1.0"
API_DEBUG=true
API_LOG_LEVEL=INFO
API_LOG_FORMAT=json

# Server configuration (Docker networking)
API_HOST=0.0.0.0
API_PORT=8000

# API Configuration
API_PREFIX="/api"
API_VERSION_PREFIX="/v1"

# =============================================================================
# DATABASE CONFIGURATION (Docker Services)
# =============================================================================

# Database connection URL (using Docker service names)
API_DATABASE_URL="postgresql+asyncpg://app_user:app_password@postgres:5432/your_app_db"

# Database connection pool settings
API_DB_POOL_SIZE=10
API_DB_MAX_OVERFLOW=20
API_DB_POOL_TIMEOUT=30
API_DB_POOL_RECYCLE=3600

# =============================================================================
# REDIS CONFIGURATION (Docker Services)
# =============================================================================

# Redis connection URL (using Docker service names)
API_REDIS_URL="redis://redis:6379/0"

# Redis connection pool settings
API_REDIS_MAX_CONNECTIONS=10
API_REDIS_RETRY_ON_TIMEOUT=true

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT Secret Key (generate with: openssl rand -hex 32)
API_SECRET_KEY="docker-development-secret-key-change-this-in-production"

# JWT Configuration
API_ACCESS_TOKEN_EXPIRE_MINUTES=30
API_REFRESH_TOKEN_EXPIRE_DAYS=7
API_ALGORITHM="HS256"

# =============================================================================
# CORS CONFIGURATION (Docker Development)
# =============================================================================

# CORS allowed origins (comma-separated, including host.docker.internal)
API_CORS_ORIGINS="http://localhost:3000,http://localhost:8080,http://host.docker.internal:3000"

# CORS configuration
API_CORS_ALLOW_CREDENTIALS=true
API_CORS_ALLOW_METHODS="GET,POST,PUT,DELETE,OPTIONS"
API_CORS_ALLOW_HEADERS="*"

# =============================================================================
# MONITORING AND OBSERVABILITY
# =============================================================================

# Sentry DSN for error tracking (optional for development)
# API_SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"

# Sentry environment
API_SENTRY_ENVIRONMENT="docker-development"

# Sentry sample rate
API_SENTRY_TRACES_SAMPLE_RATE=1.0
API_SENTRY_SAMPLE_RATE=1.0

# Prometheus metrics
API_METRICS_ENABLED=true
API_METRICS_PATH="/metrics"

# =============================================================================
# DOCKER-SPECIFIC SETTINGS
# =============================================================================

# Worker configuration (single worker for development)
API_WORKERS=1
API_WORKER_CONNECTIONS=500

# Request timeout
API_REQUEST_TIMEOUT=30

# Health check configuration
API_HEALTH_CHECK_TIMEOUT=10
API_SHUTDOWN_TIMEOUT=10

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature toggles - customize for your application
API_FEATURE_EXAMPLE_ENABLED=true
# Add your own feature flags here

# =============================================================================
# OBSERVABILITY SETTINGS
# =============================================================================

# Request/response logging
API_OBSERVABILITY_LOG_REQUESTS=true
API_OBSERVABILITY_LOG_RESPONSES=true
API_OBSERVABILITY_LOG_REQUEST_BODY=false
API_OBSERVABILITY_LOG_RESPONSE_BODY=false
API_OBSERVABILITY_MASK_SENSITIVE_DATA=true
API_OBSERVABILITY_TRACK_PERFORMANCE=true

# =============================================================================
# DEVELOPMENT TOOLS (Docker Compose Profiles)
# =============================================================================

# Enable development tools (adminer, redis-commander)
COMPOSE_PROFILES=dev-tools

# Enable monitoring stack (prometheus, grafana)
# COMPOSE_PROFILES=dev-tools,monitoring