# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and update the values for your environment

# Application Environment
# Options: development, staging, production
API_ENV=development

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Application name and version
API_APP_NAME="Production API Framework"
API_VERSION="0.1.0"

# Server configuration
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=true
API_RELOAD=true

# API Configuration
API_PREFIX="/api"
API_VERSION_PREFIX="/v1"

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database connection URL
# Format: postgresql+asyncpg://username:password@host:port/database
API_DATABASE_URL="postgresql+asyncpg://postgres:password@localhost:5432/api_dev"

# Database connection pool settings
API_DB_POOL_SIZE=10
API_DB_MAX_OVERFLOW=20
API_DB_POOL_TIMEOUT=30
API_DB_POOL_RECYCLE=3600

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis connection URL
API_REDIS_URL="redis://localhost:6379/0"

# Redis connection pool settings
API_REDIS_MAX_CONNECTIONS=10
API_REDIS_RETRY_ON_TIMEOUT=true

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT Secret Key (generate with: openssl rand -hex 32)
API_SECRET_KEY="your-super-secret-key-change-this-in-production"

# JWT Configuration
API_ACCESS_TOKEN_EXPIRE_MINUTES=30
API_REFRESH_TOKEN_EXPIRE_DAYS=7
API_ALGORITHM="HS256"

# Password hashing
API_PWD_CONTEXT_SCHEMES=["bcrypt"]
API_PWD_CONTEXT_DEPRECATED=["auto"]

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# CORS allowed origins (comma-separated)
API_CORS_ORIGINS="http://localhost:3000,http://localhost:8080"

# CORS configuration
API_CORS_ALLOW_CREDENTIALS=true
API_CORS_ALLOW_METHODS="GET,POST,PUT,DELETE,OPTIONS"
API_CORS_ALLOW_HEADERS="*"

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
API_LOG_LEVEL="INFO"

# Log format (json, console)
API_LOG_FORMAT="json"

# Log file path (optional, logs to stdout if not set)
# API_LOG_FILE="/var/log/api/app.log"

# =============================================================================
# MONITORING AND OBSERVABILITY
# =============================================================================

# Sentry DSN for error tracking
# API_SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"

# Sentry environment
API_SENTRY_ENVIRONMENT="development"

# Sentry sample rate (0.0 to 1.0)
API_SENTRY_TRACES_SAMPLE_RATE=0.1

# Prometheus metrics
API_METRICS_ENABLED=true
API_METRICS_PATH="/metrics"

# =============================================================================
# RATE LIMITING
# =============================================================================

# Rate limiting configuration
API_RATE_LIMIT_ENABLED=true
API_RATE_LIMIT_REQUESTS=100
API_RATE_LIMIT_WINDOW=60

# =============================================================================
# HEALTH CHECKS
# =============================================================================

# Health check endpoints
API_HEALTH_CHECK_PATH="/healthz"
API_READINESS_CHECK_PATH="/readyz"

# Health check timeout (seconds)
API_HEALTH_CHECK_TIMEOUT=5

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Development-specific settings
API_DEV_RELOAD_DIRS="src"
API_DEV_RELOAD_INCLUDES="*.py"

# Testing database (for running tests)
API_TEST_DATABASE_URL="postgresql+asyncpg://postgres:password@localhost:5432/api_test"

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# Email service configuration (optional)
# API_SMTP_HOST="smtp.gmail.com"
# API_SMTP_PORT=587
# API_SMTP_USERNAME="your-email@gmail.com"
# API_SMTP_PASSWORD="your-app-password"
# API_SMTP_TLS=true

# File storage configuration (optional)
# API_STORAGE_TYPE="local"  # Options: local, s3, gcs
# API_STORAGE_PATH="/tmp/uploads"

# AWS S3 configuration (if using S3 storage)
# AWS_ACCESS_KEY_ID="your-access-key"
# AWS_SECRET_ACCESS_KEY="your-secret-key"
# AWS_S3_BUCKET="your-bucket-name"
# AWS_S3_REGION="us-east-1"

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature toggles
API_FEATURE_REGISTRATION_ENABLED=true
API_FEATURE_EMAIL_VERIFICATION=false
API_FEATURE_SOCIAL_LOGIN=false

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================

# Request timeout (seconds)
API_REQUEST_TIMEOUT=30

# Maximum request size (bytes)
API_MAX_REQUEST_SIZE=10485760  # 10MB

# Worker configuration (for production)
API_WORKERS=1
API_WORKER_CLASS="uvicorn.workers.UvicornWorker"
API_WORKER_CONNECTIONS=1000